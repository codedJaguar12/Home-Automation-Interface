<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="photo-sphere-viewer.css">

  <style>
    html, body {
      width: 100%;
      height: 100%;
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
    #photosphere {
      width: 100%;
      height: 100%;
    }

    .psv-button.custom-button {
      font-size: 22px;
      line-height: 20px;
    }
  </style>
</head>
<body>

<div id="photosphere"></div>

<script src="three.min.js"></script>
<script src="D.min.js"></script>
<script src="uevent.min.js"></script>
<script src="doT.min.js"></script>
<script src="CanvasRenderer.js"></script>
<script src="Projector.js"></script>
<script src="EffectComposer.js"></script>
<script src="RenderPass.js"></script>
<script src="ShaderPass.js"></script>
<script src="MaskPass.js"></script>
<script src="CopyShader.js"></script>
<script src="DeviceOrientationControls.js"></script>
<script src="photo-sphere-viewer.js"></script>

<script type="text/template" id="pin-content">

</script>



<script>
var i=0;
  var PSV = new PhotoSphereViewer({
    panorama: 'pano4.jpg',
    container: 'photosphere',
    move_inertia: true,
    move_speed: 4,
    loading_img: 'photosphere-logo.gif',
    navbar: [
      'autorotate', 'zoom', 'markers',
      'spacer-1',
      {
        title: 'Change image',
        className: 'custom-button',
        content: '↻',
        onClick: (function() {
          var i = false;

          
        }())
      },
      {
        id: 'disabled',
        title: 'This button is disabled',
        content: '❌',
        enabled: false
      },
      'caption',
      'gyroscope',
      'fullscreen'
    ],
    caption: 'Room</b>',
    longitude_range: [-7*Math.PI/8, 7*Math.PI/8],
    latitude_range: [-3*Math.PI/4, 3*Math.PI/4],
    anim_speed: '-2rpm',
    default_fov: 50,
    fisheye: false,
    move_speed: 1.1,
    time_anim: false,
    gyroscope: true,
    webgl: true,
    transition: {
      duration: 1000,
      loader: true,
      blur: true
    },
    markers: (function(){
      var a = [];
      for (var i=0; i<Math.PI*2; i+=Math.PI/4) {
        for (var j=-Math.PI/2+Math.PI/4; j<Math.PI/2; j+=Math.PI/4) {
        
        }
      }

   

     
      
   

      


      return a;
    }())
  });

  PSV.on('click', function(e) {
    
    if (e.marker && !e.marker.isPolygon()) {
      return;
    }
    PSV.addMarker({
      id: '#' + i
      tooltip: '#' + i,
      longitude: e.longitude,
      latitude: e.latitude,
      image: 'pin.png',
      width: 32,
      height: 32,
      anchor: 'bottom center',
      data: {
        deletable: true
      }
    });
    var mark=viewer.getMarker('#' + i) ;
      

      i++;
  });

  PSV.on('select-marker', function(marker) {
    if (marker.data && marker.data.deletable) {
      PSV.removeMarker(marker);
    }
    else if (marker.id === 'gif') {
      var width = (Math.random()*0.4 + 0.8) * marker.width;
      PSV.updateMarker({
        id: marker.id,
        width: width,
        height: width
      });
    }
  });
</script>

<script>
  document.write('<script src="//' + location.host.split(':')[0] + ':35729/livereload.js" async defer><' + '/script>');
</script>
</body>
</html>
